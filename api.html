<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>W3.CSS Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: "Montserrat", sans-serif
        }
        
        .w3-row-padding img {
            margin-bottom: 12px
        }
        /* Set the width of the sidebar to 120px */
        
        .w3-sidebar {
            width: 120px;
            background: #222;
        }
        /* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
        
        #main {
            margin-left: 120px
        }
        /* Remove margins from "page content" on small screens */
        
        @media only screen and (max-width: 600px) {
            #main {
                margin-left: 0
            }
        }
    </style>
</head>

<body class="w3-black">



    <!-- Icon Bar (Sidebar - hidden on small screens) -->
    <nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
        <!-- Avatar image in top left corner -->
        <img src="/picture/LINE_ALBUM_61266_231206_6.jpg" style="width:100%">
        <a href="#" class="w3-bar-item w3-button w3-padding-large w3-black">
            <i class="fa fa-home w3-xxlarge"></i>
            <p>HOME</p>
        </a>
        <a href="#about" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
            <i class="fa fa-user w3-xxlarge"></i>
            <p>ABOUT</p>
        </a>
        <a href="#photos" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
            <i class="fa fa-eye w3-xxlarge"></i>
            <p>PHOTOS</p>
        </a>
        <a href="#contact" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
            <i class="fa fa-envelope w3-xxlarge"></i>
            <p>CONTACT</p>
        </a>
        <a href="java.html" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
            <i class="fa fa-envelope w3-xxlarge"></i>
            <p>JAVA</p>
        </a>
        <a href="api.html" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
            <i class="fa fa-envelope w3-xxlarge"></i>
            <p>API</p>
        </a>
    </nav>

    <!-- Navbar on small screens (Hidden on medium and large screens) -->
    <div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
        <a href="#" class="w3-bar-item w3-button" style="width:25% !important">HOME</a>
        <a href="#about" class="w3-bar-item w3-button" style="width:25% !important">ABOUT</a>
        <a href="#photos" class="w3-bar-item w3-button" style="width:25% !important">PHOTOS</a>
        <a href="#contact" class="w3-bar-item w3-button" style="width:25% !important">CONTACT</a>
        <a href="java.html" class="w3-bar-item w3-button" style="width:25% !important">JAVA</a>
        <a href="api.html" class="w3-bar-item w3-button" style="width:25% !important">API</a>
    </div>

    <!-- Page Content -->
    <div class="w3-padding-large" id="main">

        <h1>API</h1>

        <hr>

        <h2>Click to get a Random Image</h2>
        <img id="randomImage" src="https://source.unsplash.com/random/300x300" alt="Random Image">
        <button onclick="getRandomImage()">Get Random Image</button>
        <!-- End page content -->
        <hr>
        <h2>Click to get a Random Country Name</h2>
        <p id="randomCountry">Country name will appear here</p>
        <button onclick="getRandomCountry()">Get Random Country</button>
        <hr>
        <form method="POST" action="https://script.google.com/macros/s/AKfycbzjnSm2Ov8-bJrRvGeUK0F5GU99ew6O3Cq8ybtlT-W9tm_WifOML0IIY_wKoh2SvAM/exec">
            <label for="Email">Email</label>
            <input name="Email" type="email" required>

            <label for="Name">Name</label>
            <input name="Name" type="text" required>


            <button type="submit">Send</button>
        </form>
        <br>
        <iframe width="400" height="300" src="https://docs.google.com/spreadsheets/d/1ebF-v10Sd0lyByOzqjs0VLswz2k2sPFJI4luuj3l1y0/edit#gid=0"></iframe>
        <hr>
        <hr>

        <h2>Coinbase API Demo</h2>
        <div id="lastUpdateTime"></div>
        <div id="prices"></div>
        <hr>
    </div>
    <script>
        //document.getElementById("demo").innerHTML = "Hello World";

        function getRandomImage() {

            const randomNumber = Math.floor(Math.random() * 100); // สุ่มตัวเลขเพื่อใช้เป็นค่าสำหรับคำค้นหาแบบสุ่ม
            const randomImageUrl = `https://source.unsplash.com/300x300/?random&${randomNumber}`; // Unsplash API ที่รับพารามิเตอร์สำหรับการกำหนดความกว้างและความสูงของภาพ

            document.getElementById("randomImage").src = randomImageUrl;
        }

        function getRandomCountry() {
            fetch("https://restcountries.com/v3.1/all")
                .then(function(response) {
                    return response.json();
                })
                .then(function(data) {
                    const randomIndex = Math.floor(Math.random() * data.length);
                    const randomCountry = data[randomIndex].name.common;

                    document.getElementById("randomCountry").textContent = `Random Country: ${randomCountry}`;
                })
                .catch(function(error) {
                    console.log("Error fetching country data:", error);
                });
        }

        function fetchPrices() {
            var now = new Date();
            var currentTime = now.toLocaleTimeString();

            fetch('https://api.coinbase.com/v2/exchange-rates?currency=USDT')
                .then(response => response.json())
                .then(data => {
                    displayPrices(data);
                    displayLastUpdateTime(currentTime);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    alert('Error fetching data. Please try again.');
                });
        }



        function displayPrices(data) {
            var pricesDiv = document.getElementById('prices');
            var rates = data.data.rates;

            var currencies = ['BTC', 'ETH', 'XRP', 'LTC', 'DOGE', 'BCH', 'BNB', 'LINK', 'XLM'];
            var pricesHtml = '<p>1 USDT can buy:</p><ul>';

            currencies.forEach(currency => {
                if (rates[currency]) {
                    pricesHtml += `<li>${currency}: ${rates[currency]}</li>`;
                } else {
                    pricesHtml += `<li>${currency}: N/A</li>`;
                }
            });

            pricesHtml += '</ul>';
            pricesDiv.innerHTML = pricesHtml;
        }

        function displayLastUpdateTime(currentTime) {
            var updateTimeDiv = document.getElementById('lastUpdateTime');
            updateTimeDiv.innerHTML = `<p>Last Update Time: ${currentTime}</p>`;
        }

        fetchPrices();

        setInterval(fetchPrices, 3000);
    </script>


    <!-- Footer -->
    <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
        <i class="fa fa-facebook-official w3-hover-opacity"></i>
        <i class="fa fa-instagram w3-hover-opacity"></i>
        <i class="fa fa-snapchat w3-hover-opacity"></i>
        <i class="fa fa-pinterest-p w3-hover-opacity"></i>
        <i class="fa fa-twitter w3-hover-opacity"></i>
        <i class="fa fa-linkedin w3-hover-opacity"></i>
        <p class="w3-medium">Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank" class="w3-hover-text-green">w3.css</a></p>
        <!-- End footer -->
    </footer>

    <!-- END PAGE CONTENT -->
    </div>


</body>

</html>